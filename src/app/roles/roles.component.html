<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"><b><i class="material-icons">add</i>Create Role</b></h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <div class="form-group">
        <label for="name">Role Name:<small class="text-danger">*</small></label>
        <div class="input-group">
          <input id="name" class="form-control" placeholder="Role Name" name="dp" [(ngModel)]="roleName"><br>
        </div>
        <small *ngIf="showErrorMsg" class="text-danger">Please enter a name</small>
      </div>
      <div class="table table-responsive table-hover">
        <table style="width:100%">
          <thead>
            <tr>
              <th>Name</th>
              <th>Read</th>
              <th>Write</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let menu of menus; index as i">
              <td>{{menu.name}}</td>
              <td><input type="checkbox" [(ngModel)]="privilegeRead[i]" style="width:25px; height:25px"></td>
              <td><input type="checkbox" [(ngModel)]="privilegeWrite[i]" style="width:25px; height:25px"></td>
            </tr>
          </tbody>
        </table>
      </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="onSave()">Save</button>
  </div>
</ng-template>

<!-- (click)="modal.close('Save click')" -->

<button class="btn btn-lg btn-outline-primary mt-4 mr-4 mb-4" (click)="open(content)" style="float:right"><i class="material-icons">add</i> Add Role</button>

        <!-- <div class="container">
          <table
          mat-table
          [dataSource]="roles"
          clas="mat-elevation-z8"
          style="width:100%; margin-bottom: 50px"
        >
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>ID</th>
            <td mat-cell *matCellDef="let role">{{ role.id }}</td>
          </ng-container>
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let role">{{ role.name }}</td>
          </ng-container>
          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let document">{{ document.type }}</td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div> -->

<div class="container" *ngIf="!loading">
  <table>
      <thead>
        <tr>
          <th class="index">S/N</th>
          <th style="text-align: center; font-weight:bold">Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let role of roles; index as i" (click)="open(editrolemodal)" (click)="editrole(role)" style="cursor:pointer">
          <th class="index">{{i+1}}</th>
          <td style="font-weight: bold; text-align: center">{{role.name}}</td>
          <td><i class="material-icons">create</i></td>
        </tr>
      </tbody>
  </table>
</div>
<div class="loader mt-4" *ngIf="loading"></div>


<ng-template #editrolemodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"><b>Edit Role</b></h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <div class="form-group">
        <label for="name">Role Name:<small class="text-danger">*</small></label>
        <div class="input-group">
          <input id="name" class="form-control" placeholder="Role Name" name="dp" [(ngModel)]="chosenRole.name"><br>
        </div>
        <small *ngIf="showErrorMsg" class="text-danger">Please enter a name</small>
      </div>
      <div class="table table-responsive table-hover">
        <table style="width:100%">
          <thead>
            <th>Name</th>
            <th>Read</th>
            <th>Write</th>
          </thead>
          <tr *ngFor="let menu of menus; index as i">
            <td>{{menu.name}}</td>
            <td><input type="checkbox" [(ngModel)]="privilegeRead[i]" style="width:25px; height:25px"></td>
            <td><input type="checkbox" [(ngModel)]="privilegeWrite[i]" style="width:25px; height:25px"></td>
          </tr>
        </table>
      </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="updateRole()">Save</button>
  </div>
</ng-template>